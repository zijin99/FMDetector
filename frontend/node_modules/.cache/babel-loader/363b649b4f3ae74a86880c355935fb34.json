{"ast":null,"code":"import _slicedToArray from\"/Users/matthewchang/workspace/cmu/fmdetector/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"../header.css\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Student=function Student(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),students=_useState2[0],setStudents=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),departments=_useState4[0],setDepartments=_useState4[1];var history=useHistory();var handleAddStudent=function handleAddStudent(){history.push(\"/student/add\");};var no=0;var getStudentList=function getStudentList(){axios.get(\"/student/\").then(function(response){setStudents(response.data);no=response.data.length;});};var getDepartments=function getDepartments(){axios.get(\"/department/\").then(function(response){setDepartments(response.data);});};useEffect(function(){getStudentList();getDepartments();},[]);return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"panel panel-default shadow-box b-a-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"panel-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"panel-title\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"m-t-3\",children:\"Student List\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-12\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table table-responsive\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"small text-muted text-uppercase\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"small text-muted text-uppercase\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Name\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"small text-muted text-uppercase\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Andrew ID\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"small text-muted text-uppercase\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Department\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:students.map(function(student,key){var dept=departments.find(function(d){return d.id===student.deptId;});return/*#__PURE__*/_jsxs(\"tr\",{className:\"v-a-m\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-darker\",children:student.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-darker\",children:student.email})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray\",children:student.andrewId})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-darker\",children:dept?dept.name:\"\"})})]},key);})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary pull-right\",onClick:function onClick(){return handleAddStudent();},children:\"Add Student\"})]})})]})})]});};export default Student;","map":{"version":3,"sources":["/Users/matthewchang/workspace/cmu/fmdetector/frontend/src/components/Student.js"],"names":["React","useEffect","useState","axios","useHistory","Student","students","setStudents","departments","setDepartments","history","handleAddStudent","push","no","getStudentList","get","then","response","data","length","getDepartments","map","student","key","dept","find","d","id","deptId","name","email","andrewId"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport \"../header.css\";\nimport {useHistory} from \"react-router-dom\";\n\nconst Student = () => {\n    const [students, setStudents]  = useState([]);\n    const [departments, setDepartments] = useState([]);\n    const history = useHistory();\n\n    const handleAddStudent = () => {\n        history.push(`/student/add`);\n    }\n    let no = 0;\n    const getStudentList = () => {\n        axios.get(\"/student/\").then(response => {\n            setStudents(response.data);\n            no = response.data.length;\n        })\n    }\n\n    const getDepartments = () => {\n        axios.get(\"/department/\").then(response => {\n            setDepartments(response.data);\n        })\n    }\n\n    useEffect(() => {\n        getStudentList();\n        getDepartments();\n    }, []);\n\n    return (\n        <React.Fragment>\n            <br/><br/>\n            <div className=\"panel panel-default shadow-box b-a-0\">\n                <div className=\"panel-body\">\n                    <div className=\"panel-title\"><h4 className=\"m-t-3\">Student List</h4></div>\n                    <div className=\"row\">\n                        <div className=\"col-sm-12\">\n\n                            <table className=\"table table-responsive\">\n                                <thead>\n                                <tr>\n                                    <th className=\"small text-muted text-uppercase\"><strong>Name</strong>\n                                    </th>\n                                    <th className=\"small text-muted text-uppercase\"><strong>Name</strong>\n                                    </th>\n                                    <th className=\"small text-muted text-uppercase\"><strong>Andrew ID</strong>\n                                    </th>\n                                    <th className=\"small text-muted text-uppercase\"><strong>Department</strong>\n                                    </th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                {students.map((student, key) => {\n                                    const dept = departments.find(d => d.id === student.deptId);\n                                    return <tr className=\"v-a-m\" key={key}>\n                                        <td>\n                                            <span className=\"text-gray-darker\">{student.name}</span>\n                                        </td>\n                                        <td>\n                                            <span className=\"text-gray-darker\">{student.email}</span>\n                                        </td>\n                                        <td>\n                                            <span className=\"text-gray\">{student.andrewId}</span>\n                                        </td>\n                                        <td>\n                                            <span className=\"text-gray-darker\">{dept ? dept.name : \"\"}</span>\n                                        </td>\n\n                                    </tr>\n                                })}\n\n\n                                </tbody>\n                            </table>\n                            <button type=\"button\" className=\"btn btn-primary pull-right\"\n                                    onClick={() => handleAddStudent()}>Add Student\n                            </button>\n                        </div>\n                    </div>\n\n                </div>\n            </div>\n\n        </React.Fragment>\n    );\n}\n\nexport default Student;\n"]},"metadata":{},"sourceType":"module"}